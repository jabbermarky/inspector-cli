import * as fs from "fs"; import { isSameDomainScript } from "./dist/ground-truth/same-domain-script.js"; const data = JSON.parse(fs.readFileSync("data/cms-analysis/mcsk7ejv-bGFtYWlzb2.json", "utf8")); const scripts = data.scripts || []; const targetUrl = data.url || ""; console.log("Target URL:", targetUrl); console.log("Final URL:", data.finalUrl); const wpContentScripts = scripts.filter((s) => s.src && s.src.toLowerCase().includes("/wp-content/")); console.log("All wp-content scripts found:", wpContentScripts.length); wpContentScripts.slice(0,3).forEach((s, i) => { const sameDomain = isSameDomainScript(s.src, targetUrl); console.log(`Script ${i+1}: ${s.src}`); console.log(`  Same domain with "${targetUrl}": ${sameDomain}`); const sameDomainFinal = isSameDomainScript(s.src, data.finalUrl); console.log(`  Same domain with "${data.finalUrl}": ${sameDomainFinal}`); });
